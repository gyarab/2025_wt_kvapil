<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample Page</title>
</head>

<body>
    <h1>Welcome to my number guessing game</h1>
    <p>Try to guess the number I'm thinking of!</p>
    <input type="number" id="guessInput" />
    <button id="guessButton">Guess</button>
    <p>Guesses: <span id="guesses">0</span></p>
    <br>
    <br>
    <button id="switchDifficulty">Switch to HARD</button><span> Mode: </span><span id="diffucultyText" style="color:green">Easy</span>
    <br>
    <button id="switchMode">Switch to 0 - 100</button><span> Guess between</span><span id="modeText">0 - 20</span>

    <script>
        let secretNumber;
        let guessCount;
        const input = document.getElementById("guessInput");
        let numMode = 0; //0= 20, 1=100
        let difficulty = 0; //0=easy, 1=hard (only 10 guesses)

        function newGame20() {
            secretNumber = Math.floor(Math.random() * 20) + 1;
            guessCount = 0;

            document.getElementById("guesses").textContent = guessCount;

            console.log("New game started!");
            console.log("Secret number is: " + secretNumber);
        }

        function newGame100() {
            secretNumber = Math.floor(Math.random() * 100) + 1;
            guessCount = 0;

            document.getElementById("guesses").textContent = guessCount;

            console.log("New game started!");
            console.log("Secret number is: " + secretNumber);
        }

        function check() {
            const number = Number(input.value);
            
            if(numMode === 0){
                if (number < 1 || number > 20) {
                    alert("Please enter a number between 1 and 20, not a character... (or a zero)");
                    return;
                }
            } else {
                if (number < 1 || number > 100) {
                    alert("Please enter a number between 1 and 100, not a character... (or a zero)");
                    return;
                }
            }

            if (numMode === 0) {
                if (difficulty === 0) {
                    if (number === secretNumber) {
                        document.getElementById("guessInput").value = "";
                        alert("Congratulations! You've guessed the number!");
                        newGame20();
                        return;
                    }
                }
                if (difficulty === 1) {
                    if (guessCount >= 10) {
                        document.getElementById("guessInput").value = "";
                        alert("Sorry, you've used all your guesses. The number was " + secretNumber + ". Starting a new game.");
                        newGame20();
                        return;
                    }
                    else if (number === secretNumber) {
                        document.getElementById("guessInput").value = "";
                        alert("Congratulations! You've guessed the number!");
                        newGame20();
                        return;
                    }
                }
            }
            if (numMode === 1) {
                if (difficulty === 0) {
                    if (number === secretNumber) {
                        document.getElementById("guessInput").value = "";
                        alert("Congratulations! You've guessed the number!");
                        newGame100();
                        return;
                    }
                }
                if (difficulty === 1) {
                    if (guessCount >= 10) {
                        alert("Sorry, you've used all your guesses. The number was " + secretNumber + ". Starting a new game.");
                        newGame100();
                        return;
                    }
                    else if (number === secretNumber) {
                        document.getElementById("guessInput").value = "";
                        alert("Congratulations! You've guessed the number!");
                        newGame100();
                        return;
                    }
                }
            }

            guessCount++;
            document.getElementById("guesses").textContent = guessCount;
        }

        document.getElementById("guessButton").addEventListener("click", check);
        document.getElementById("switchDifficulty").addEventListener("click", function () {
            if (difficulty === 1) {
                difficulty = 0;
                this.textContent = "Switch to HARD";
                document.getElementById("diffucultyText").textContent = "Easy";
                document.getElementById("diffucultyText").style.color = "green";
                if(numMode === 0){
                    newGame20();
                } else {
                    newGame100();
                }
            } else {
                difficulty = 1;
                this.textContent = "Switch to easy";
                document.getElementById("diffucultyText").textContent = "Hard";
                document.getElementById("diffucultyText").style.color = "red";
                if(numMode === 0){
                    newGame20();
                } else {
                    newGame100();
                }
            }
        });
        document.getElementById("switchMode").addEventListener("click", function () {
            if (numMode === 0) {
                numMode = 1;
                this.textContent = "Switch to 0 - 20";
                document.getElementById("modeText").textContent = "0 - 100";
                newGame100();
            } else {
                numMode = 0;
                this.textContent = "Switch to 0 - 100";
                document.getElementById("modeText").textContent = "0 - 20";
                newGame20();
            }
        });
        document.getElementById("guessInput").addEventListener("keydown", function (event) {
            if (event.key === "Enter") {
                check();
            }
        });

        //default is 20 easy
        newGame20();
    </script>
</body>

</html>